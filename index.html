<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Card</title>
    <link rel="shortcut icon" href="./Media/favicon_io (2)/android-chrome-192x192.png" type="image/x-icon">
    <link rel="shortcut icon" href="./Media/favicon_io (2)/android-chrome-512x512.png" type="image/x-icon">
    <link rel="shortcut icon" href="./Media/favicon_io (2)/apple-touch-icon.png" type="image/x-icon">
    <link rel="shortcut icon" href="./Media/favicon_io (2)/favicon-16x16.png" type="image/x-icon">
    <link rel="shortcut icon" href="./Media/favicon_io (2)/favicon-32x32.png" type="image/x-icon">
    <link rel="shortcut icon" href="./Media/favicon_io (2)/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="./Media/favicon_io (2)/site.webmanifest" type="image/x-icon">
    <link rel="stylesheet" href="contactcard.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>

<body style="background-color: #f0f5ff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-weight: 600; padding: 20px;">
    <div class="container">
        <div class="header">
            <h1>CONTACT INFO</h1>
            <p class="mb-0">Add and manage your contacts with ease</p>
        </div>

        <div class="inputt">
            <input class="form-control p-2" type="text" id="conName" placeholder="üßù Contact Name" autofocus>

            <input type="text" class="form-control p-2" id="conPhone" placeholder="‚òé Contact Phone Number">

            <input type="text" class="form-control p-2" id="conEmail" placeholder="üìß Contact Email">

            <input type="text" class="form-control p-2" id="conAddress" placeholder="üìç Contact Address">

            <input type="text" class="form-control p-2" id="conImg" placeholder="üì∑ Contact Image" width="" >

            

            <div class="d-flex justify-content-center mt-3">
                <button onclick="submitContact()" class="btn btn-success m-auto" style="width: 130px;">Save Contact</button>
            </div>

        </div>

        <div class="d-flex justify-content-center gap-3 flex-wrap mt-4 mb-4">
            <button class="btn btn-danger ms-3" onclick="deleteLastCon()">Delete last</button>

            <button class="btn btn-info ms-3" onclick="reverseCon()">Reverse</button>

            <button class="btn btn-warning ms-3" onclick="addAsFirstCon()">Add as first</button>

            <button class="btn btn-primary ms-3" onclick="deleteFirstCon()">Delete first</button>
        </div>

    </div>

    <div class="container">
        <div id="result" class="res"></div>
    </div>



    <script>
        //create a contact card with details like img, name, phone number, email, address
        let contacts = [];

        function submitContact() {
            let name = conName.value;
            let phone = conPhone.value;
            let email = conEmail.value;
            let address = conAddress.value;
            let img = conImg.value;
            let avail = true

            let contact = {
                name: name,
                phone: phone,
                email: email,
                address: address,
                img: img,
                avail

            };

            (conName.value == "" || conPhone.value == "" || conEmail.value == "" || conAddress.value == "" || conImg.value == "") ? alert("Please fill in all fields") : contacts.push(contact);

            console.log(contacts);
            conName.value = "";
            conPhone.value = "";
            conEmail.value = "";
            conAddress.value = "";
            conImg.value = "";
            displayContacts()
        }

        function displayContacts() {
            result.innerHTML = ""
            for (let i = 0; i < contacts.length; i++) {
                result.innerHTML += `<div class="card mt-4" style="border-left: 5px solid #6c8fce; border-radius: 10px; padding: 5px; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08); transition: transform 0.3s;">
                <img src="${contacts[i].img}" class="card-img-top" alt="...">
                <div class="card-body">
                <h5 class="contact-name">${contacts[i].name}</h5>
                <p class="card-text mb-1">‚òé ${contacts[i].phone}</p>
                <p class="card-text mb-1">üìß ${contacts[i].email}</p>
                <p class="card-text mb-1">üìç ${contacts[i].address}</p>
                <div class="d-flex flex-wrap justify-content-center gap-2 align-items-center"><button class="btn btn-danger align-items-center" onclick = {deleteItem(${i})}>DeleteüöÆ</button><button class="btn btn-success" onclick = {editItem(${i})}>Edit‚úç</button><button onclick=(changeAvailability(${i})) class='btn ${contacts[i].avail ? "btn-danger" : "btn-success"}'> ${contacts[i].avail ? "Unblock" : "Block"} </button></div>
                </div>
            </div>`
            }
        }

        function deleteFirstCon(){
            contacts.shift();
            console.log(contacts);
            displayContacts();
        }

        function deleteLastCon(){
            contacts.pop();
            console.log(contacts);
            displayContacts();
        }

        function reverseCon(){
            contacts.reverse();
            console.log(contacts);
            displayContacts();
        }

        function addAsFirstCon(){
            let name = conName.value;
            let phone = conPhone.value;
            let email = conEmail.value;
            let address = conAddress.value;
            let img = conImg.value;

            let contact = {
                name: name,
                phone: phone,
                email: email,
                address: address,
                img: img
            };

            contacts.unshift(contact);
            console.log(contacts);
            displayContacts()
        }

        function deleteItem(i){
            contacts.splice(i, 1);
            console.log(contacts);
            displayContacts();
        }

        function editItem(i){
            let newName = prompt("Enter new name:", contacts[i].name);
            let newPhone = prompt("Enter new phone number:", contacts[i].phone);
            let newEmail = prompt("Enter new email:", contacts[i].email);
            let newAddress = prompt("Enter new address:", contacts[i].address);
            let newImg = prompt("Enter new image URL:", contacts[i].img);
            contacts.splice(i, 1, { name: newName ? newName : contacts[i].name, phone: newPhone ? newPhone : contacts[i].phone, email: newEmail ? newEmail : contacts[i].email, address: newAddress ? newAddress : contacts[i].address, img: newImg ? newImg : contacts[i].img });
            console.log(contacts);
            displayContacts();
        }


        function changeAvailability(i){
            contacts[i].avail = !contacts[i].avail;
            displayContacts();
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>